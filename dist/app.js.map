{
  "version": 3,
  "sources": ["../node_modules/css-what/lib/commonjs/types.js", "../node_modules/css-what/lib/commonjs/parse.js", "../node_modules/css-what/lib/commonjs/stringify.js", "../node_modules/css-what/lib/commonjs/index.js", "../node_modules/@dom111/element/dist/Element.js", "../src/components/Element.ts", "../src/components/Cell.ts", "../src/components/Point.ts", "../src/lib/Path.ts", "../src/lib/PathFinder.ts", "../node_modules/throttle-debounce/throttle.js", "../node_modules/throttle-debounce/debounce.js", "../src/components/Grid.ts", "../src/lib/LevelProvider.ts", "../src/app.ts"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AttributeAction = exports.IgnoreCaseMode = exports.SelectorType = void 0;\nvar SelectorType;\n(function (SelectorType) {\n    SelectorType[\"Attribute\"] = \"attribute\";\n    SelectorType[\"Pseudo\"] = \"pseudo\";\n    SelectorType[\"PseudoElement\"] = \"pseudo-element\";\n    SelectorType[\"Tag\"] = \"tag\";\n    SelectorType[\"Universal\"] = \"universal\";\n    // Traversals\n    SelectorType[\"Adjacent\"] = \"adjacent\";\n    SelectorType[\"Child\"] = \"child\";\n    SelectorType[\"Descendant\"] = \"descendant\";\n    SelectorType[\"Parent\"] = \"parent\";\n    SelectorType[\"Sibling\"] = \"sibling\";\n    SelectorType[\"ColumnCombinator\"] = \"column-combinator\";\n})(SelectorType = exports.SelectorType || (exports.SelectorType = {}));\n/**\n * Modes for ignore case.\n *\n * This could be updated to an enum, and the object is\n * the current stand-in that will allow code to be updated\n * without big changes.\n */\nexports.IgnoreCaseMode = {\n    Unknown: null,\n    QuirksMode: \"quirks\",\n    IgnoreCase: true,\n    CaseSensitive: false,\n};\nvar AttributeAction;\n(function (AttributeAction) {\n    AttributeAction[\"Any\"] = \"any\";\n    AttributeAction[\"Element\"] = \"element\";\n    AttributeAction[\"End\"] = \"end\";\n    AttributeAction[\"Equals\"] = \"equals\";\n    AttributeAction[\"Exists\"] = \"exists\";\n    AttributeAction[\"Hyphen\"] = \"hyphen\";\n    AttributeAction[\"Not\"] = \"not\";\n    AttributeAction[\"Start\"] = \"start\";\n})(AttributeAction = exports.AttributeAction || (exports.AttributeAction = {}));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.isTraversal = void 0;\nvar types_1 = require(\"./types\");\nvar reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nvar reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\nvar actionTypes = new Map([\n    [126 /* Tilde */, types_1.AttributeAction.Element],\n    [94 /* Circumflex */, types_1.AttributeAction.Start],\n    [36 /* Dollar */, types_1.AttributeAction.End],\n    [42 /* Asterisk */, types_1.AttributeAction.Any],\n    [33 /* ExclamationMark */, types_1.AttributeAction.Not],\n    [124 /* Pipe */, types_1.AttributeAction.Hyphen],\n]);\n// Pseudos, whose data property is parsed as well.\nvar unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"where\",\n    \"host\",\n    \"host-context\",\n]);\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nfunction isTraversal(selector) {\n    switch (selector.type) {\n        case types_1.SelectorType.Adjacent:\n        case types_1.SelectorType.Child:\n        case types_1.SelectorType.Descendant:\n        case types_1.SelectorType.Parent:\n        case types_1.SelectorType.Sibling:\n        case types_1.SelectorType.ColumnCombinator:\n            return true;\n        default:\n            return false;\n    }\n}\nexports.isTraversal = isTraversal;\nvar stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    var high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isQuote(c) {\n    return c === 39 /* SingleQuote */ || c === 34 /* DoubleQuote */;\n}\nfunction isWhitespace(c) {\n    return (c === 32 /* Space */ ||\n        c === 9 /* Tab */ ||\n        c === 10 /* NewLine */ ||\n        c === 12 /* FormFeed */ ||\n        c === 13 /* CarriageReturn */);\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nfunction parse(selector) {\n    var subselects = [];\n    var endIndex = parseSelector(subselects, \"\".concat(selector), 0);\n    if (endIndex < selector.length) {\n        throw new Error(\"Unmatched selector: \".concat(selector.slice(endIndex)));\n    }\n    return subselects;\n}\nexports.parse = parse;\nfunction parseSelector(subselects, selector, selectorIndex) {\n    var tokens = [];\n    function getName(offset) {\n        var match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(\"Expected name, found \".concat(selector.slice(selectorIndex)));\n        }\n        var name = match[0];\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        selectorIndex += offset;\n        while (selectorIndex < selector.length &&\n            isWhitespace(selector.charCodeAt(selectorIndex))) {\n            selectorIndex++;\n        }\n    }\n    function readValueWithParenthesis() {\n        selectorIndex += 1;\n        var start = selectorIndex;\n        var counter = 1;\n        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n            if (selector.charCodeAt(selectorIndex) ===\n                40 /* LeftParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter++;\n            }\n            else if (selector.charCodeAt(selectorIndex) ===\n                41 /* RightParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter--;\n            }\n        }\n        if (counter) {\n            throw new Error(\"Parenthesis not matched\");\n        }\n        return unescapeCSS(selector.slice(start, selectorIndex - 1));\n    }\n    function isEscaped(pos) {\n        var slashCount = 0;\n        while (selector.charCodeAt(--pos) === 92 /* BackSlash */)\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    function addTraversal(type) {\n        if (tokens.length > 0 &&\n            tokens[tokens.length - 1].type === types_1.SelectorType.Descendant) {\n            tokens[tokens.length - 1].type = type;\n            return;\n        }\n        ensureNotTraversal();\n        tokens.push({ type: type });\n    }\n    function addSpecialAttribute(name, action) {\n        tokens.push({\n            type: types_1.SelectorType.Attribute,\n            name: name,\n            action: action,\n            value: getName(1),\n            namespace: null,\n            ignoreCase: \"quirks\",\n        });\n    }\n    /**\n     * We have finished parsing the current part of the selector.\n     *\n     * Remove descendant tokens at the end if they exist,\n     * and return the last index, so that parsing can be\n     * picked up from here.\n     */\n    function finalizeSubselector() {\n        if (tokens.length &&\n            tokens[tokens.length - 1].type === types_1.SelectorType.Descendant) {\n            tokens.pop();\n        }\n        if (tokens.length === 0) {\n            throw new Error(\"Empty sub-selector\");\n        }\n        subselects.push(tokens);\n    }\n    stripWhitespace(0);\n    if (selector.length === selectorIndex) {\n        return selectorIndex;\n    }\n    loop: while (selectorIndex < selector.length) {\n        var firstChar = selector.charCodeAt(selectorIndex);\n        switch (firstChar) {\n            // Whitespace\n            case 32 /* Space */:\n            case 9 /* Tab */:\n            case 10 /* NewLine */:\n            case 12 /* FormFeed */:\n            case 13 /* CarriageReturn */: {\n                if (tokens.length === 0 ||\n                    tokens[0].type !== types_1.SelectorType.Descendant) {\n                    ensureNotTraversal();\n                    tokens.push({ type: types_1.SelectorType.Descendant });\n                }\n                stripWhitespace(1);\n                break;\n            }\n            // Traversals\n            case 62 /* GreaterThan */: {\n                addTraversal(types_1.SelectorType.Child);\n                stripWhitespace(1);\n                break;\n            }\n            case 60 /* LessThan */: {\n                addTraversal(types_1.SelectorType.Parent);\n                stripWhitespace(1);\n                break;\n            }\n            case 126 /* Tilde */: {\n                addTraversal(types_1.SelectorType.Sibling);\n                stripWhitespace(1);\n                break;\n            }\n            case 43 /* Plus */: {\n                addTraversal(types_1.SelectorType.Adjacent);\n                stripWhitespace(1);\n                break;\n            }\n            // Special attribute selectors: .class, #id\n            case 46 /* Period */: {\n                addSpecialAttribute(\"class\", types_1.AttributeAction.Element);\n                break;\n            }\n            case 35 /* Hash */: {\n                addSpecialAttribute(\"id\", types_1.AttributeAction.Equals);\n                break;\n            }\n            case 91 /* LeftSquareBracket */: {\n                stripWhitespace(1);\n                // Determine attribute name and namespace\n                var name_1 = void 0;\n                var namespace = null;\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */) {\n                    // Equivalent to no namespace\n                    name_1 = getName(1);\n                }\n                else if (selector.startsWith(\"*|\", selectorIndex)) {\n                    namespace = \"*\";\n                    name_1 = getName(2);\n                }\n                else {\n                    name_1 = getName(0);\n                    if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                        selector.charCodeAt(selectorIndex + 1) !==\n                            61 /* Equal */) {\n                        namespace = name_1;\n                        name_1 = getName(1);\n                    }\n                }\n                stripWhitespace(0);\n                // Determine comparison operation\n                var action = types_1.AttributeAction.Exists;\n                var possibleAction = actionTypes.get(selector.charCodeAt(selectorIndex));\n                if (possibleAction) {\n                    action = possibleAction;\n                    if (selector.charCodeAt(selectorIndex + 1) !==\n                        61 /* Equal */) {\n                        throw new Error(\"Expected `=`\");\n                    }\n                    stripWhitespace(2);\n                }\n                else if (selector.charCodeAt(selectorIndex) === 61 /* Equal */) {\n                    action = types_1.AttributeAction.Equals;\n                    stripWhitespace(1);\n                }\n                // Determine value\n                var value = \"\";\n                var ignoreCase = null;\n                if (action !== \"exists\") {\n                    if (isQuote(selector.charCodeAt(selectorIndex))) {\n                        var quote = selector.charCodeAt(selectorIndex);\n                        var sectionEnd = selectorIndex + 1;\n                        while (sectionEnd < selector.length &&\n                            (selector.charCodeAt(sectionEnd) !== quote ||\n                                isEscaped(sectionEnd))) {\n                            sectionEnd += 1;\n                        }\n                        if (selector.charCodeAt(sectionEnd) !== quote) {\n                            throw new Error(\"Attribute value didn't end\");\n                        }\n                        value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));\n                        selectorIndex = sectionEnd + 1;\n                    }\n                    else {\n                        var valueStart = selectorIndex;\n                        while (selectorIndex < selector.length &&\n                            ((!isWhitespace(selector.charCodeAt(selectorIndex)) &&\n                                selector.charCodeAt(selectorIndex) !==\n                                    93 /* RightSquareBracket */) ||\n                                isEscaped(selectorIndex))) {\n                            selectorIndex += 1;\n                        }\n                        value = unescapeCSS(selector.slice(valueStart, selectorIndex));\n                    }\n                    stripWhitespace(0);\n                    // See if we have a force ignore flag\n                    var forceIgnore = selector.charCodeAt(selectorIndex) | 0x20;\n                    // If the forceIgnore flag is set (either `i` or `s`), use that value\n                    if (forceIgnore === 115 /* LowerS */) {\n                        ignoreCase = false;\n                        stripWhitespace(1);\n                    }\n                    else if (forceIgnore === 105 /* LowerI */) {\n                        ignoreCase = true;\n                        stripWhitespace(1);\n                    }\n                }\n                if (selector.charCodeAt(selectorIndex) !==\n                    93 /* RightSquareBracket */) {\n                    throw new Error(\"Attribute selector didn't terminate\");\n                }\n                selectorIndex += 1;\n                var attributeSelector = {\n                    type: types_1.SelectorType.Attribute,\n                    name: name_1,\n                    action: action,\n                    value: value,\n                    namespace: namespace,\n                    ignoreCase: ignoreCase,\n                };\n                tokens.push(attributeSelector);\n                break;\n            }\n            case 58 /* Colon */: {\n                if (selector.charCodeAt(selectorIndex + 1) === 58 /* Colon */) {\n                    tokens.push({\n                        type: types_1.SelectorType.PseudoElement,\n                        name: getName(2).toLowerCase(),\n                        data: selector.charCodeAt(selectorIndex) ===\n                            40 /* LeftParenthesis */\n                            ? readValueWithParenthesis()\n                            : null,\n                    });\n                    continue;\n                }\n                var name_2 = getName(1).toLowerCase();\n                var data = null;\n                if (selector.charCodeAt(selectorIndex) ===\n                    40 /* LeftParenthesis */) {\n                    if (unpackPseudos.has(name_2)) {\n                        if (isQuote(selector.charCodeAt(selectorIndex + 1))) {\n                            throw new Error(\"Pseudo-selector \".concat(name_2, \" cannot be quoted\"));\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, selectorIndex + 1);\n                        if (selector.charCodeAt(selectorIndex) !==\n                            41 /* RightParenthesis */) {\n                            throw new Error(\"Missing closing parenthesis in :\".concat(name_2, \" (\").concat(selector, \")\"));\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        data = readValueWithParenthesis();\n                        if (stripQuotesFromPseudos.has(name_2)) {\n                            var quot = data.charCodeAt(0);\n                            if (quot === data.charCodeAt(data.length - 1) &&\n                                isQuote(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                        }\n                        data = unescapeCSS(data);\n                    }\n                }\n                tokens.push({ type: types_1.SelectorType.Pseudo, name: name_2, data: data });\n                break;\n            }\n            case 44 /* Comma */: {\n                finalizeSubselector();\n                tokens = [];\n                stripWhitespace(1);\n                break;\n            }\n            default: {\n                if (selector.startsWith(\"/*\", selectorIndex)) {\n                    var endIndex = selector.indexOf(\"*/\", selectorIndex + 2);\n                    if (endIndex < 0) {\n                        throw new Error(\"Comment was not terminated\");\n                    }\n                    selectorIndex = endIndex + 2;\n                    // Remove leading whitespace\n                    if (tokens.length === 0) {\n                        stripWhitespace(0);\n                    }\n                    break;\n                }\n                var namespace = null;\n                var name_3 = void 0;\n                if (firstChar === 42 /* Asterisk */) {\n                    selectorIndex += 1;\n                    name_3 = \"*\";\n                }\n                else if (firstChar === 124 /* Pipe */) {\n                    name_3 = \"\";\n                    if (selector.charCodeAt(selectorIndex + 1) === 124 /* Pipe */) {\n                        addTraversal(types_1.SelectorType.ColumnCombinator);\n                        stripWhitespace(2);\n                        break;\n                    }\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name_3 = getName(0);\n                }\n                else {\n                    break loop;\n                }\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                    selector.charCodeAt(selectorIndex + 1) !== 124 /* Pipe */) {\n                    namespace = name_3;\n                    if (selector.charCodeAt(selectorIndex + 1) ===\n                        42 /* Asterisk */) {\n                        name_3 = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name_3 = getName(1);\n                    }\n                }\n                tokens.push(name_3 === \"*\"\n                    ? { type: types_1.SelectorType.Universal, namespace: namespace }\n                    : { type: types_1.SelectorType.Tag, name: name_3, namespace: namespace });\n            }\n        }\n    }\n    finalizeSubselector();\n    return selectorIndex;\n}\n", "\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = void 0;\nvar types_1 = require(\"./types\");\nvar attribValChars = [\"\\\\\", '\"'];\nvar pseudoValChars = __spreadArray(__spreadArray([], attribValChars, true), [\"(\", \")\"], false);\nvar charsToEscapeInAttributeValue = new Set(attribValChars.map(function (c) { return c.charCodeAt(0); }));\nvar charsToEscapeInPseudoValue = new Set(pseudoValChars.map(function (c) { return c.charCodeAt(0); }));\nvar charsToEscapeInName = new Set(__spreadArray(__spreadArray([], pseudoValChars, true), [\n    \"~\",\n    \"^\",\n    \"$\",\n    \"*\",\n    \"+\",\n    \"!\",\n    \"|\",\n    \":\",\n    \"[\",\n    \"]\",\n    \" \",\n    \".\",\n], false).map(function (c) { return c.charCodeAt(0); }));\n/**\n * Turns `selector` back into a string.\n *\n * @param selector Selector to stringify.\n */\nfunction stringify(selector) {\n    return selector\n        .map(function (token) { return token.map(stringifyToken).join(\"\"); })\n        .join(\", \");\n}\nexports.stringify = stringify;\nfunction stringifyToken(token, index, arr) {\n    switch (token.type) {\n        // Simple types\n        case types_1.SelectorType.Child:\n            return index === 0 ? \"> \" : \" > \";\n        case types_1.SelectorType.Parent:\n            return index === 0 ? \"< \" : \" < \";\n        case types_1.SelectorType.Sibling:\n            return index === 0 ? \"~ \" : \" ~ \";\n        case types_1.SelectorType.Adjacent:\n            return index === 0 ? \"+ \" : \" + \";\n        case types_1.SelectorType.Descendant:\n            return \" \";\n        case types_1.SelectorType.ColumnCombinator:\n            return index === 0 ? \"|| \" : \" || \";\n        case types_1.SelectorType.Universal:\n            // Return an empty string if the selector isn't needed.\n            return token.namespace === \"*\" &&\n                index + 1 < arr.length &&\n                \"name\" in arr[index + 1]\n                ? \"\"\n                : \"\".concat(getNamespace(token.namespace), \"*\");\n        case types_1.SelectorType.Tag:\n            return getNamespacedName(token);\n        case types_1.SelectorType.PseudoElement:\n            return \"::\".concat(escapeName(token.name, charsToEscapeInName)).concat(token.data === null\n                ? \"\"\n                : \"(\".concat(escapeName(token.data, charsToEscapeInPseudoValue), \")\"));\n        case types_1.SelectorType.Pseudo:\n            return \":\".concat(escapeName(token.name, charsToEscapeInName)).concat(token.data === null\n                ? \"\"\n                : \"(\".concat(typeof token.data === \"string\"\n                    ? escapeName(token.data, charsToEscapeInPseudoValue)\n                    : stringify(token.data), \")\"));\n        case types_1.SelectorType.Attribute: {\n            if (token.name === \"id\" &&\n                token.action === types_1.AttributeAction.Equals &&\n                token.ignoreCase === \"quirks\" &&\n                !token.namespace) {\n                return \"#\".concat(escapeName(token.value, charsToEscapeInName));\n            }\n            if (token.name === \"class\" &&\n                token.action === types_1.AttributeAction.Element &&\n                token.ignoreCase === \"quirks\" &&\n                !token.namespace) {\n                return \".\".concat(escapeName(token.value, charsToEscapeInName));\n            }\n            var name_1 = getNamespacedName(token);\n            if (token.action === types_1.AttributeAction.Exists) {\n                return \"[\".concat(name_1, \"]\");\n            }\n            return \"[\".concat(name_1).concat(getActionValue(token.action), \"=\\\"\").concat(escapeName(token.value, charsToEscapeInAttributeValue), \"\\\"\").concat(token.ignoreCase === null ? \"\" : token.ignoreCase ? \" i\" : \" s\", \"]\");\n        }\n    }\n}\nfunction getActionValue(action) {\n    switch (action) {\n        case types_1.AttributeAction.Equals:\n            return \"\";\n        case types_1.AttributeAction.Element:\n            return \"~\";\n        case types_1.AttributeAction.Start:\n            return \"^\";\n        case types_1.AttributeAction.End:\n            return \"$\";\n        case types_1.AttributeAction.Any:\n            return \"*\";\n        case types_1.AttributeAction.Not:\n            return \"!\";\n        case types_1.AttributeAction.Hyphen:\n            return \"|\";\n        case types_1.AttributeAction.Exists:\n            throw new Error(\"Shouldn't be here\");\n    }\n}\nfunction getNamespacedName(token) {\n    return \"\".concat(getNamespace(token.namespace)).concat(escapeName(token.name, charsToEscapeInName));\n}\nfunction getNamespace(namespace) {\n    return namespace !== null\n        ? \"\".concat(namespace === \"*\"\n            ? \"*\"\n            : escapeName(namespace, charsToEscapeInName), \"|\")\n        : \"\";\n}\nfunction escapeName(str, charsToEscape) {\n    var lastIdx = 0;\n    var ret = \"\";\n    for (var i = 0; i < str.length; i++) {\n        if (charsToEscape.has(str.charCodeAt(i))) {\n            ret += \"\".concat(str.slice(lastIdx, i), \"\\\\\").concat(str.charAt(i));\n            lastIdx = i + 1;\n        }\n    }\n    return ret.length > 0 ? ret + str.slice(lastIdx) : str;\n}\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.parse = exports.isTraversal = void 0;\n__exportStar(require(\"./types\"), exports);\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"isTraversal\", { enumerable: true, get: function () { return parse_1.isTraversal; } });\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parse_1.parse; } });\nvar stringify_1 = require(\"./stringify\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return stringify_1.stringify; } });\n", "\"use strict\";var e,t=this&&this.__classPrivateFieldSet||function(e,t,s,r,o){if(\"m\"===r)throw new TypeError(\"Private method is not writable\");if(\"a\"===r&&!o)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof t?e!==t||!o:!t.has(e))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===r?o.call(e,s):o?o.value=s:t.set(e,s),s},s=this&&this.__classPrivateFieldGet||function(e,t,s,r){if(\"a\"===s&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof t?e!==t||!r:!t.has(e))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===s?r:\"a\"===s?r.call(e):r?r.value:t.get(e)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Element=exports.t=exports.s=exports.removeClass=exports.onEach=exports.once=exports.on=exports.off=exports.hasClass=exports.h=exports.empty=exports.emitCustom=exports.emit=exports.addClass=void 0;const r=require(\"css-what\");exports.addClass=(e,...t)=>e.classList.add(...t);exports.emit=(e,t)=>e.dispatchEvent(t);exports.emitCustom=(e,t,...s)=>(0,exports.emit)(e,new CustomEvent(t,{detail:s}));exports.empty=e=>{for(var t;e.hasChildNodes();)null===(t=e.firstChild)||void 0===t||t.remove()};exports.h=(e,...t)=>{const[s]=(0,r.parse)(e).map((e=>e.reduce(((e,t)=>{var s;return\"tag\"===t.type?document.createElement(t.name):(\"attribute\"===t.type&&\"class\"!==t.name&&e.setAttribute(t.name,null!==(s=t.value)&&void 0!==s?s:\"\"),\"attribute\"===t.type&&\"class\"===t.name&&e.classList.add(t.value),e)}),document.createElement(\"div\"))));return t.forEach((e=>{e instanceof o&&(e=e.element()),s.append(e)})),s};exports.hasClass=(e,t)=>e.classList.contains(t);exports.off=(e,t,s,r={})=>e.removeEventListener(t,s,r);exports.on=(e,t,s,r={})=>e.addEventListener(t,s,r);exports.once=(e,t,s,r={})=>(0,exports.on)(e,t,s,Object.assign(Object.assign({},\"boolean\"==typeof r?{capture:r}:r),{once:!0}));exports.onEach=(e,t,s,r={})=>t.forEach((t=>(0,exports.on)(e,t,s,r)));exports.removeClass=(e,...t)=>e.classList.remove(...t);exports.s=e=>{const t=document.createElement(\"div\");return t.innerHTML=e,t.firstElementChild};exports.t=e=>document.createTextNode(e);class o{constructor(s){e.set(this,void 0),t(this,e,s,\"f\")}static fromSelector(e,...t){return new o((0,exports.h)(e,...t))}static fromString(e){return new o((0,exports.s)(e))}addClass(...e){(0,exports.addClass)(this.element(),...e)}append(...e){e.forEach((e=>{e instanceof o&&(e=e.element()),this.element().append(e)}))}element(){return s(this,e,\"f\")}emit(e){return(0,exports.emit)(this.element(),e)}emitCustom(e,...t){return(0,exports.emitCustom)(this.element(),e,...t)}empty(){(0,exports.empty)(this.element())}hasClass(e){return(0,exports.hasClass)(this.element(),e)}on(e,t,s={}){(0,exports.on)(this.element(),e,t,s)}off(e,t,s={}){(0,exports.off)(this.element(),e,t,s)}once(e,t,s={}){(0,exports.once)(this.element(),e,t,s)}onEach(e,t,s={}){(0,exports.onEach)(this.element(),e,t,s)}query(e){return this.element().querySelector(e)}queryAll(e){return this.element().querySelectorAll(e)}removeClass(...e){(0,exports.removeClass)(this.element(),...e)}}exports.Element=o,e=new WeakMap,exports.default=o;", "import BaseElement from '@dom111/element';\nexport { h } from '@dom111/element';\n\nexport class Element extends BaseElement {\n  attr(key: string, value: any = ''): void {\n    this.element().setAttribute(key, value);\n  }\n\n  removeAttr(key: string): void {\n    if (!this.element().hasAttribute(key)) {\n      return;\n    }\n\n    this.element().removeAttribute(key);\n  }\n}\n\nexport default Element;\n", "import Element, { h } from './Element';\n\nexport type Connection = 't' | 'r' | 'b' | 'l';\n\nexport class Cell extends Element {\n  #colour: number | null = null;\n  #connections: Connection[] = [];\n  #index: number;\n\n  constructor(index: number) {\n    super(h('.cell'));\n\n    this.#index = index;\n\n    this.attr('data-i', index.toString());\n  }\n\n  colour(): number | null {\n    return this.#colour;\n  }\n\n  index(): number {\n    return this.#index;\n  }\n\n  setColour(colour: number | null): void {\n    this.#colour = colour;\n\n    if (colour === null) {\n      this.removeAttr('data-id');\n\n      return;\n    }\n\n    this.attr('data-id', colour.toString());\n  }\n\n  addConnection(connection: Connection): void {\n    if (this.#connections.includes(connection)) {\n      return;\n    }\n\n    this.#connections.push(connection);\n\n    this.attr('data-' + connection);\n  }\n\n  dropConnection(connection: Connection): void {\n    const connectionIndex = this.#connections.indexOf(connection);\n\n    if (connectionIndex === -1) {\n      return;\n    }\n\n    this.#connections.splice(connectionIndex, 1);\n\n    this.removeAttr('data-' + connection);\n  }\n\n  setFinal(final: boolean) {\n    if (final) {\n      this.attr('data-final');\n\n      return;\n    }\n\n    this.removeAttr('data-final');\n  }\n}\n\nexport default Cell;\n", "import Cell from './Cell';\n\nexport class Point extends Cell {\n  constructor(index: number, point: number) {\n    super(index);\n\n    super.setColour(point);\n\n    this.attr('data-id', point.toString());\n    this.attr('data-point');\n  }\n\n  setColour(colour: number | null) {\n    throw new TypeError('Cannot change the colour of a Point');\n  }\n}\n\nexport default Point;\n", "import Cell, { Connection } from '../components/Cell';\nimport Grid from '../components/Grid';\nimport Point from '../components/Point';\n\nexport type NeighbourDirections = 't' | 'r' | 'b' | 'l';\n\nexport const isNeighbour = (\n  cell: Cell,\n  otherCell: Cell,\n  width: number,\n  height: number\n): NeighbourDirections | false => {\n  const x = (cell.index() % width) - (otherCell.index() % width),\n    y =\n      Math.floor(cell.index() / height) -\n      Math.floor(otherCell.index() / height);\n\n  if (x === -1 && y === 0) {\n    return 'l';\n  }\n\n  if (x === 1 && y === 0) {\n    return 'r';\n  }\n\n  if (x === 0 && y === -1) {\n    return 't';\n  }\n\n  if (x === 0 && y === 1) {\n    return 'b';\n  }\n\n  return false;\n};\n\nexport enum Status {\n  DRAFT,\n  FINAL,\n  COMPLETE,\n}\n\nexport class Path {\n  #cells: Cell[] = [];\n  #colour: number;\n  #grid: Grid;\n  #status: Status = Status.DRAFT;\n\n  constructor(colour: number, grid: Grid) {\n    this.#colour = colour;\n    this.#grid = grid;\n  }\n\n  breakAt(cell: Cell): void {\n    if (!this.includes(cell)) {\n      return;\n    }\n\n    const breakIndex = this.#cells.indexOf(cell),\n      startChain = this.#cells.slice(0, breakIndex),\n      endChain = this.#cells.slice(breakIndex);\n\n    if (\n      endChain.length > startChain.length &&\n      this.first() instanceof Point &&\n      this.last() instanceof Point\n    ) {\n      this.#cells.reverse();\n    }\n\n    while (this.last() !== cell) {\n      this.pop();\n    }\n  }\n\n  canAdd(cell: Cell): boolean {\n    const last = this.last();\n\n    if (last === null) {\n      return cell instanceof Point;\n    }\n\n    if (this.complete()) {\n      return false;\n    }\n\n    return (\n      this.isNeighbour(last, cell) &&\n      (!(cell instanceof Point) || cell.colour() === this.colour())\n    );\n  }\n\n  clear(): void {\n    while (this.last()) {\n      this.pop();\n    }\n  }\n\n  colour(): number {\n    return this.#colour;\n  }\n\n  complete(): boolean {\n    const first = this.first(),\n      last = this.last();\n\n    return (\n      this.length() > 1 &&\n      first &&\n      last &&\n      first !== last &&\n      first instanceof Point &&\n      last instanceof Point\n    );\n  }\n\n  first(): Cell | null {\n    if (this.length() === 0) {\n      return null;\n    }\n\n    return this.#cells[0];\n  }\n\n  includes(cell: Cell): boolean {\n    return this.#cells.includes(cell);\n  }\n\n  private isNeighbour(\n    cell: Cell,\n    otherCell: Cell\n  ): NeighbourDirections | false {\n    return isNeighbour(\n      cell,\n      otherCell,\n      this.#grid.width(),\n      this.#grid.height()\n    );\n  }\n\n  last(): Cell | null {\n    if (this.length() === 0) {\n      return null;\n    }\n\n    return this.#cells[this.length() - 1];\n  }\n\n  length(): number {\n    return this.#cells.length;\n  }\n\n  pop(): void {\n    if (this.length() === 0) {\n      return;\n    }\n\n    const wasComplete = this.complete(),\n      cell = this.#cells.pop(),\n      last = this.last();\n\n    if (!(cell instanceof Point)) {\n      cell.setColour(null);\n    }\n\n    cell.setFinal(false);\n\n    if (last) {\n      last.dropConnection(this.isNeighbour(cell, last) as Connection);\n      cell.dropConnection(this.isNeighbour(last, cell) as Connection);\n    }\n\n    if (wasComplete) {\n      cell.setFinal(false);\n      this.#cells.forEach((cell) => cell.setFinal(false));\n      this.setStatus(Status.DRAFT);\n    }\n  }\n\n  push(cell: Cell): void {\n    const last = this.last();\n\n    if (last && !this.canAdd(cell)) {\n      return;\n    }\n\n    this.#cells.push(cell);\n\n    if (!(cell instanceof Point)) {\n      cell.setColour(this.#colour);\n    }\n\n    if (last) {\n      last.addConnection(this.isNeighbour(cell, last) as Connection);\n      cell.addConnection(this.isNeighbour(last, cell) as Connection);\n    }\n\n    if (this.complete()) {\n      this.setStatus(Status.COMPLETE);\n    }\n  }\n\n  setStatus(status: Status): void {\n    if (this.#status === Status.COMPLETE && status === Status.FINAL) {\n      return;\n    }\n\n    this.#status = status;\n\n    if (status === Status.DRAFT) {\n      this.#cells.forEach((cell) => cell.setFinal(false));\n\n      return;\n    }\n\n    this.#cells.forEach((cell) => cell.setFinal(true));\n  }\n\n  status(): Status {\n    return this.#status;\n  }\n}\n\nexport default Path;\n", "import { NeighbourDirections, isNeighbour } from './Path';\nimport Cell from '../components/Cell';\nimport Grid from '../components/Grid';\nimport Point from '../components/Point';\n\ntype Node = {\n  cell: Cell;\n  stack: Cell[];\n};\n\nconst createNode = (cell: Cell, stack: Cell[] = []): Node => ({\n  cell,\n  stack,\n});\n\nexport class PathFinder {\n  #candidates: Cell[][] = [];\n  #cells: Cell[];\n  #from: Cell;\n  #grid: Grid;\n  #neighbourCache: Map<Cell, Cell[]> = new Map();\n  #seen: Cell[] = [];\n  #stack: Node[] = [];\n  #to: Cell;\n\n  constructor(grid: Grid, from: Cell, to: Cell) {\n    this.#from = from;\n    this.#grid = grid;\n    this.#to = to;\n\n    this.#cells = grid.cells();\n    this.#stack.push(createNode(from));\n  }\n\n  private generate(): void {\n    while (this.#stack.length) {\n      const currentNode = this.#stack.shift(),\n        { cell } = currentNode;\n\n      if (this.#seen.includes(cell)) {\n        continue;\n      }\n\n      this.neighboursOf(cell).forEach((neighbourCell) => {\n        if (\n          neighbourCell instanceof Point &&\n          this.#from.colour() !== neighbourCell.colour()\n        ) {\n          return;\n        }\n\n        if (currentNode.stack.includes(neighbourCell)) {\n          return;\n        }\n\n        const node = createNode(neighbourCell, [...currentNode.stack, cell]);\n\n        if (neighbourCell === this.#to) {\n          this.#candidates.push(node.stack);\n\n          return;\n        }\n\n        this.#stack.push(node);\n      });\n\n      this.#seen.push(cell);\n    }\n  }\n\n  private isNeighbour(\n    cell: Cell,\n    otherCell: Cell\n  ): NeighbourDirections | false {\n    return isNeighbour(\n      cell,\n      otherCell,\n      this.#grid.width(),\n      this.#grid.height()\n    );\n  }\n\n  isPathAvailable(): boolean {\n    if (this.#candidates.length === 0) {\n      this.generate();\n    }\n\n    return this.#candidates.length > 0;\n  }\n\n  private neighboursOf(cell: Cell): Cell[] {\n    if (!this.#neighbourCache.has(cell)) {\n      this.#neighbourCache.set(\n        cell,\n        this.#cells.filter(\n          (otherCell) => this.isNeighbour(cell, otherCell) !== false\n        )\n      );\n    }\n\n    return this.#neighbourCache.get(cell);\n  }\n\n  /**\n   * Returns the shortest path from the source to the target, excluding the source Cell.\n   */\n  shortestPath(): Cell[] {\n    if (this.#candidates.length === 0) {\n      this.generate();\n    }\n\n    const [shortest] = this.#candidates.sort(\n      (a: Cell[], b: Cell[]) => a.length - b.length\n    );\n\n    return shortest;\n  }\n}\n\nexport default PathFinder;\n", "/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param {number} delay -                  A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher)\n *                                            are most useful.\n * @param {Function} callback -               A function to be executed after delay milliseconds. The `this` context and all arguments are passed through,\n *                                            as-is, to `callback` when the throttled-function is executed.\n * @param {object} [options] -              An object to configure options.\n * @param {boolean} [options.noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds\n *                                            while the throttled-function is being called. If noTrailing is false or unspecified, callback will be executed\n *                                            one final time after the last throttled-function call. (After the throttled-function has not been called for\n *                                            `delay` milliseconds, the internal counter is reset).\n * @param {boolean} [options.noLeading] -   Optional, defaults to false. If noLeading is false, the first throttled-function call will execute callback\n *                                            immediately. If noLeading is true, the first the callback execution will be skipped. It should be noted that\n *                                            callback will never executed if both noLeading = true and noTrailing = true.\n * @param {boolean} [options.debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is\n *                                            false (at end), schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function} A new, throttled, function.\n */\nexport default function (delay, callback, options) {\n\tconst {\n\t\tnoTrailing = false,\n\t\tnoLeading = false,\n\t\tdebounceMode = undefined\n\t} = options || {};\n\t/*\n\t * After wrapper has stopped being called, this timeout ensures that\n\t * `callback` is executed at the proper times in `throttle` and `end`\n\t * debounce modes.\n\t */\n\tlet timeoutID;\n\tlet cancelled = false;\n\n\t// Keep track of the last time `callback` was executed.\n\tlet lastExec = 0;\n\n\t// Function to clear existing timeout\n\tfunction clearExistingTimeout() {\n\t\tif (timeoutID) {\n\t\t\tclearTimeout(timeoutID);\n\t\t}\n\t}\n\n\t// Function to cancel next exec\n\tfunction cancel(options) {\n\t\tconst { upcomingOnly = false } = options || {};\n\t\tclearExistingTimeout();\n\t\tcancelled = !upcomingOnly;\n\t}\n\n\t/*\n\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t * functionality and when executed will limit the rate at which `callback`\n\t * is executed.\n\t */\n\tfunction wrapper(...arguments_) {\n\t\tlet self = this;\n\t\tlet elapsed = Date.now() - lastExec;\n\n\t\tif (cancelled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\tfunction exec() {\n\t\t\tlastExec = Date.now();\n\t\t\tcallback.apply(self, arguments_);\n\t\t}\n\n\t\t/*\n\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t * to allow future `callback` executions.\n\t\t */\n\t\tfunction clear() {\n\t\t\ttimeoutID = undefined;\n\t\t}\n\n\t\tif (!noLeading && debounceMode && !timeoutID) {\n\t\t\t/*\n\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t * `debounceMode` is true (at begin), execute `callback`\n\t\t\t * and noLeading != true.\n\t\t\t */\n\t\t\texec();\n\t\t}\n\n\t\tclearExistingTimeout();\n\n\t\tif (debounceMode === undefined && elapsed > delay) {\n\t\t\tif (noLeading) {\n\t\t\t\t/*\n\t\t\t\t * In throttle mode with noLeading, if `delay` time has\n\t\t\t\t * been exceeded, update `lastExec` and schedule `callback`\n\t\t\t\t * to execute after `delay` ms.\n\t\t\t\t */\n\t\t\t\tlastExec = Date.now();\n\t\t\t\tif (!noTrailing) {\n\t\t\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, delay);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * In throttle mode without noLeading, if `delay` time has been exceeded, execute\n\t\t\t\t * `callback`.\n\t\t\t\t */\n\t\t\t\texec();\n\t\t\t}\n\t\t} else if (noTrailing !== true) {\n\t\t\t/*\n\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t * recent execution.\n\t\t\t *\n\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t * after `delay` ms.\n\t\t\t *\n\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t * execute after `delay` ms.\n\t\t\t */\n\t\t\ttimeoutID = setTimeout(\n\t\t\t\tdebounceMode ? clear : exec,\n\t\t\t\tdebounceMode === undefined ? delay - elapsed : delay\n\t\t\t);\n\t\t}\n\t}\n\n\twrapper.cancel = cancel;\n\n\t// Return the wrapper function.\n\treturn wrapper;\n}\n", "/* eslint-disable no-undefined */\n\nimport throttle from './throttle.js';\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param {number} delay -               A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param {Function} callback -          A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                        to `callback` when the debounced-function is executed.\n * @param {object} [options] -           An object to configure options.\n * @param {boolean} [options.atBegin] -  Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                        after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                        (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n *\n * @returns {Function} A new, debounced function.\n */\nexport default function (delay, callback, options) {\n\tconst { atBegin = false } = options || {};\n\treturn throttle(delay, callback, { debounceMode: atBegin !== false });\n}\n", "import Element, { h } from './Element';\nimport Path, { Status } from '../lib/Path';\nimport Cell from './Cell';\nimport PathFinder from '../lib/PathFinder';\nimport Point from './Point';\nimport { throttle } from 'throttle-debounce';\n\nexport class Grid extends Element {\n  #cellMap: Map<HTMLElement, Cell> = new Map();\n  #currentPath: Path | null = null;\n  #paths: Map<number, Path> = new Map();\n  #height: number;\n  #width: number;\n\n  constructor(height: number, width: number, cells: Cell[] = []) {\n    super(h('.grid'));\n\n    this.setSize(height, width);\n\n    cells.forEach((cell) => {\n      this.#cellMap.set(cell.element(), cell);\n\n      this.append(cell);\n    });\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.onEach(['touchstart', 'mousedown'], (event) => {\n      if (event instanceof MouseEvent && event.buttons !== 1) {\n        return;\n      }\n\n      event.preventDefault();\n\n      const cell = this.cellFromEvent(event);\n\n      if (cell === null) {\n        return;\n      }\n\n      const existingPath = this.pathFromCell(cell);\n\n      if (\n        existingPath &&\n        existingPath.complete() &&\n        existingPath.last() === cell\n      ) {\n        this.#currentPath = existingPath;\n\n        existingPath.setStatus(Status.DRAFT);\n\n        existingPath.clear();\n\n        existingPath.push(cell);\n\n        return;\n      }\n\n      if (existingPath && existingPath.last() !== cell) {\n        this.#currentPath = existingPath;\n\n        existingPath.setStatus(Status.DRAFT);\n\n        existingPath.breakAt(cell);\n\n        return;\n      }\n\n      if (existingPath && existingPath.last() === cell) {\n        this.#currentPath = existingPath;\n\n        existingPath.setStatus(Status.DRAFT);\n\n        return;\n      }\n\n      if (!(cell instanceof Point)) {\n        return;\n      }\n\n      const path = new Path(cell.colour(), this);\n\n      this.#currentPath = path;\n      this.#paths.set(path.colour(), path);\n    });\n\n    this.onEach(\n      ['touchmove', 'mousemove'],\n      throttle(1000 / 60, (event) => {\n        if (event instanceof MouseEvent && !event.buttons) {\n          return;\n        }\n\n        const cell = this.cellFromEvent(event),\n          currentPath = this.#currentPath;\n\n        if (\n          cell === null ||\n          currentPath === null ||\n          (currentPath &&\n            currentPath.status() === Status.COMPLETE &&\n            !currentPath.includes(cell)) ||\n          currentPath.last() === cell\n        ) {\n          return;\n        }\n\n        this.handleAddCellToCurrentPath(cell);\n      })\n    );\n\n    this.onEach(['touchend', 'mouseup'], () => {\n      if (this.#currentPath === null) {\n        return;\n      }\n\n      // TODO: break crossed paths\n      this.#currentPath.setStatus(Status.FINAL);\n\n      if (this.#currentPath.length() < 2) {\n        this.#currentPath.clear();\n\n        this.#paths.delete(this.#currentPath.colour());\n      }\n\n      this.#currentPath = null;\n    });\n  }\n\n  cells(): Cell[] {\n    return Array.from(this.#cellMap.values());\n  }\n\n  private cellFromEvent(event: MouseEvent | TouchEvent): Cell | null {\n    if (event instanceof MouseEvent) {\n      return (\n        this.#cellMap.get(\n          (event.relatedTarget as HTMLElement) || (event.target as HTMLElement)\n        ) ?? null\n      );\n    }\n\n    return (\n      this.#cellMap.get(\n        document.elementFromPoint(\n          event.touches[0].pageX,\n          event.touches[0].pageY\n        ) as HTMLElement\n      ) ?? null\n    );\n  }\n\n  private handleAddCellToCurrentPath(cell: Cell): void {\n    const otherPath = this.pathFromCell(cell, this.#currentPath),\n      currentPath = this.#currentPath;\n\n    if (otherPath && otherPath !== currentPath && !(cell instanceof Point)) {\n      otherPath.breakAt(cell);\n      otherPath.pop();\n    }\n\n    if (currentPath.includes(cell) && currentPath.last() !== cell) {\n      currentPath.breakAt(cell);\n    }\n\n    if (currentPath.canAdd(cell)) {\n      currentPath.push(cell);\n\n      return;\n    }\n\n    const last = currentPath.last();\n\n    // TODO: instead of doing this check, this should never happen...\n    if (!last) {\n      return;\n    }\n\n    const pathFinder = new PathFinder(this, last, cell);\n\n    if (pathFinder.isPathAvailable()) {\n      pathFinder\n        .shortestPath()\n        .forEach((cell) => this.handleAddCellToCurrentPath(cell));\n    }\n  }\n\n  height(): number {\n    return this.#height;\n  }\n\n  private pathFromCell(\n    cell: Cell,\n    currentPath: Path | null = null\n  ): Path | null {\n    let path = null;\n\n    this.#paths.forEach((existingPath) => {\n      if (path) {\n        return;\n      }\n\n      if (existingPath.includes(cell)) {\n        path = existingPath;\n      }\n    });\n\n    if (\n      path === null &&\n      cell instanceof Point &&\n      this.#paths.has(cell.colour())\n    ) {\n      path = this.#paths.get(cell.colour());\n\n      if (path !== currentPath && !path.canAdd(cell)) {\n        console.log(path, currentPath);\n        console.log('clearing the path');\n        path.clear();\n      }\n    }\n\n    return path;\n  }\n\n  private setSize(height: number, width: number): void {\n    this.#height = height;\n    this.#width = width;\n\n    this.element().style.setProperty('--height', height.toString());\n    this.element().style.setProperty('--width', width.toString());\n  }\n\n  width(): number {\n    return this.#width;\n  }\n}\n\nexport default Grid;\n", "const levels: [number, number, string][] = [\n  [3, 3, 'a1abc2bc'],\n  [8, 8, '2b7gfe5d10d1f3b1g2e1c2ca1h3a5h'],\n  [15, 15, '4o1i9l6a11eb5g5e20j2g26n9f1f9l7h1o7n10j7c6pd3mc4h5p6im3kad23b2k]'],\n];\n\ntype LevelData = [number, number, (null | number)[]];\n\nenum Difficulty {\n  SIMPLE,\n  EASY,\n  NORMAL,\n  HARD,\n  X_HARD,\n}\n\nconst loadFromString = (\n  height: number,\n  width: number,\n  gridDefinition: string\n): LevelData => {\n  const matches = gridDefinition.match(/\\d+|[a-z]/gi);\n\n  if (matches === null) {\n    throw new TypeError('Invalid level definition');\n  }\n\n  const cells = matches.flatMap((value: string): number | null[] => {\n    if (/^\\d+$/.test(value)) {\n      return new Array(parseInt(value)).fill(null);\n    }\n\n    return parseInt(value, 36) - 9;\n  });\n\n  const area = height * width;\n\n  if (cells.length < area) {\n    cells.push(...new Array(area - cells.length).fill(null));\n  }\n\n  return [width, height, cells];\n};\n\nexport class LevelProvider {\n  generate(\n    height: number = -1,\n    width: number = -1,\n    difficulty: Difficulty = Difficulty.NORMAL\n  ): LevelData {\n    return loadFromString(...levels[Math.floor(Math.random() * levels.length)]);\n  }\n}\n\nexport default LevelProvider;\n", "import './app.scss';\nimport Cell from './components/Cell';\nimport Grid from './components/Grid';\nimport LevelProvider from './lib/LevelProvider';\nimport Point from './components/Point';\n\nconst levelProvider = new LevelProvider(),\n  [width, height, levelData] = levelProvider.generate(),\n  grid = new Grid(\n    width,\n    height,\n    levelData.map((pointColour, index) =>\n      pointColour === null ? new Cell(index) : new Point(index, pointColour)\n    )\n  ),\n  appContainer = document.getElementById('app');\n\nappContainer.append(grid.element());\n"],
  "mappings": "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",
  "names": ["require_types", "__commonJSMin", "exports", "SelectorType", "AttributeAction", "require_parse", "__commonJSMin", "exports", "types_1", "reName", "reEscape", "actionTypes", "unpackPseudos", "isTraversal", "selector", "stripQuotesFromPseudos", "funescape", "_", "escaped", "escapedWhitespace", "high", "unescapeCSS", "str", "isQuote", "c", "isWhitespace", "parse", "subselects", "endIndex", "parseSelector", "selectorIndex", "tokens", "getName", "offset", "match", "name", "stripWhitespace", "readValueWithParenthesis", "start", "counter", "isEscaped", "pos", "slashCount", "ensureNotTraversal", "addTraversal", "type", "addSpecialAttribute", "action", "finalizeSubselector", "loop", "firstChar", "name_1", "namespace", "possibleAction", "value", "ignoreCase", "quote", "sectionEnd", "valueStart", "forceIgnore", "attributeSelector", "name_2", "data", "quot", "name_3", "require_stringify", "__commonJSMin", "exports", "__spreadArray", "to", "from", "pack", "i", "l", "ar", "types_1", "attribValChars", "pseudoValChars", "charsToEscapeInAttributeValue", "c", "charsToEscapeInPseudoValue", "charsToEscapeInName", "stringify", "selector", "token", "stringifyToken", "index", "arr", "getNamespace", "getNamespacedName", "escapeName", "name_1", "getActionValue", "action", "namespace", "str", "charsToEscape", "lastIdx", "ret", "require_commonjs", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "parse_1", "stringify_1", "require_Element", "__commonJSMin", "exports", "e", "t", "s", "r", "o", "import_element", "Element", "BaseElement", "key", "value", "Element_default", "_colour", "_connections", "_index", "Cell", "Element_default", "index", "__privateAdd", "__privateSet", "__privateGet", "colour", "connection", "connectionIndex", "final", "Cell_default", "Point", "Cell_default", "index", "point", "colour", "Point_default", "isNeighbour", "cell", "otherCell", "width", "height", "x", "y", "_cells", "_colour", "_grid", "_status", "Path", "colour", "grid", "__privateAdd", "__privateSet", "cell", "breakIndex", "__privateGet", "startChain", "Point_default", "last", "first", "otherCell", "isNeighbour", "wasComplete", "status", "Path_default", "createNode", "cell", "stack", "_candidates", "_cells", "_from", "_grid", "_neighbourCache", "_seen", "_stack", "_to", "PathFinder", "grid", "from", "to", "__privateAdd", "__privateSet", "__privateGet", "currentNode", "neighbourCell", "Point_default", "node", "otherCell", "isNeighbour", "shortest", "a", "b", "PathFinder_default", "throttle", "delay", "callback", "options", "_ref$noTrailing", "_ref", "noTrailing", "_ref$noLeading", "noLeading", "_ref$debounceMode", "debounceMode", "undefined", "timeoutID", "cancelled", "lastExec", "clearExistingTimeout", "clearTimeout", "cancel", "_ref2$upcomingOnly", "_ref2", "upcomingOnly", "wrapper", "_len", "arguments_", "_key", "self", "elapsed", "Date", "now", "exec", "apply", "clear", "setTimeout", "_cellMap", "_currentPath", "_paths", "_height", "_width", "Grid", "Element_default", "height", "width", "cells", "__privateAdd", "cell", "__privateGet", "event", "existingPath", "__privateSet", "Point_default", "path", "Path_default", "throttle", "currentPath", "_a", "_b", "otherPath", "last", "pathFinder", "PathFinder_default", "Grid_default", "levels", "loadFromString", "height", "width", "gridDefinition", "matches", "cells", "value", "area", "LevelProvider", "difficulty", "levels", "LevelProvider_default", "levelProvider", "LevelProvider_default", "width", "height", "levelData", "grid", "Grid_default", "pointColour", "index", "Cell_default", "Point_default", "appContainer"]
}
