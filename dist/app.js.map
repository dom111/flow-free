{
  "version": 3,
  "sources": ["../node_modules/@dom111/element/dist/Element.js", "../src/lib/Colour.ts", "../src/components/Element.ts", "../src/components/Cell.ts", "../src/components/Point.ts", "../src/lib/Path.ts", "../src/lib/PathFinder.ts", "../src/components/TouchHighlight.ts", "../src/components/Grid.ts", "../src/lib/LevelProvider.ts", "../src/app.ts"],
  "sourcesContent": ["\"use strict\";var e,t=this&&this.__classPrivateFieldSet||function(e,t,s,r,o){if(\"m\"===r)throw new TypeError(\"Private method is not writable\");if(\"a\"===r&&!o)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof t?e!==t||!o:!t.has(e))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===r?o.call(e,s):o?o.value=s:t.set(e,s),s},s=this&&this.__classPrivateFieldGet||function(e,t,s,r){if(\"a\"===s&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof t?e!==t||!r:!t.has(e))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===s?r:\"a\"===s?r.call(e):r?r.value:t.get(e)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Element=exports.t=exports.s=exports.removeClass=exports.onEach=exports.once=exports.on=exports.off=exports.hasClass=exports.empty=exports.emitCustom=exports.emit=exports.addClass=void 0;exports.addClass=(e,...t)=>e.classList.add(...t);exports.emit=(e,t)=>e.dispatchEvent(t);exports.emitCustom=(e,t,...s)=>(0,exports.emit)(e,new CustomEvent(t,{detail:s}));exports.empty=e=>{for(var t;e.hasChildNodes();)null===(t=e.firstChild)||void 0===t||t.remove()};exports.hasClass=(e,t)=>e.classList.contains(t);exports.off=(e,t,s,r={})=>e.removeEventListener(t,s,r);exports.on=(e,t,s,r={})=>e.addEventListener(t,s,r);exports.once=(e,t,s,r={})=>(0,exports.on)(e,t,s,Object.assign(Object.assign({},\"boolean\"==typeof r?{capture:r}:r),{once:!0}));exports.onEach=(e,t,s,r={})=>t.forEach((t=>(0,exports.on)(e,t,s,r)));exports.removeClass=(e,...t)=>e.classList.remove(...t);exports.s=e=>{const t=document.createElement(\"div\");return t.innerHTML=e,t.firstElementChild};exports.t=e=>document.createTextNode(e);class r{constructor(s){e.set(this,void 0),t(this,e,s,\"f\")}static fromString(e){return new r((0,exports.s)(e))}addClass(...e){(0,exports.addClass)(this.element(),...e)}append(...e){e.forEach((e=>{e instanceof r&&(e=e.element()),this.element().append(e)}))}element(){return s(this,e,\"f\")}emit(e){return(0,exports.emit)(this.element(),e)}emitCustom(e,...t){return(0,exports.emitCustom)(this.element(),e,...t)}empty(){(0,exports.empty)(this.element())}hasClass(e){return(0,exports.hasClass)(this.element(),e)}on(e,t,s={}){(0,exports.on)(this.element(),e,t,s)}off(e,t,s={}){(0,exports.off)(this.element(),e,t,s)}once(e,t,s={}){(0,exports.once)(this.element(),e,t,s)}onEach(e,t,s={}){(0,exports.onEach)(this.element(),e,t,s)}query(e){return this.element().querySelector(e)}queryAll(e){return this.element().querySelectorAll(e)}removeClass(...e){(0,exports.removeClass)(this.element(),...e)}}exports.Element=r,e=new WeakMap,exports.default=r;", "export enum Colour {\n  NONE,\n  RED = 'a',\n  GREEN = 'b',\n  BLUE = 'c',\n  YELLOW = 'd',\n  ORANGE = 'e',\n  LIGHT_BLUE = 'f',\n  PINK = 'g',\n  MAROON = 'h',\n  PURPLE = 'i',\n  WHITE = 'j',\n  GREY = 'k',\n  LIGHT_GREEN = 'l',\n  BEIGE = 'm',\n  DARK_BLUE = 'n',\n  TEAL = 'o',\n  DARK_PINK = 'p',\n}\n\nconst colourToClassNameLookup = {\n  [Colour.RED]: 'red',\n  [Colour.GREEN]: 'green',\n  [Colour.BLUE]: 'blue',\n  [Colour.YELLOW]: 'yellow',\n  [Colour.ORANGE]: 'orange',\n  [Colour.LIGHT_BLUE]: 'light-blue',\n  [Colour.PINK]: 'pink',\n  [Colour.MAROON]: 'maroon',\n  [Colour.PURPLE]: 'purple',\n  [Colour.WHITE]: 'white',\n  [Colour.GREY]: 'grey',\n  [Colour.LIGHT_GREEN]: 'light-green',\n  [Colour.BEIGE]: 'beige',\n  [Colour.DARK_BLUE]: 'dark-blue',\n  [Colour.TEAL]: 'teal',\n  [Colour.DARK_PINK]: 'dark-pink',\n};\n\nexport const assertIsColour = (colour: any): Colour => {\n  if (!Object.values(Colour).includes(colour)) {\n    throw new TypeError(`Unknown Colour '${colour}'.`);\n  }\n\n  return colour;\n};\n\nexport const colourToClassName = (...colours: Colour[]): string[] =>\n  colours\n    .filter((colour) => colour !== Colour.NONE)\n    .map((colour) => colourToClassNameLookup[colour]);\n\nexport default Colour;\n", "import BaseElement from '@dom111/element';\nexport { s } from '@dom111/element';\n\nexport class Element extends BaseElement {\n  attr(key: string, value: any = ''): void {\n    this.element().setAttribute(key, value);\n  }\n\n  removeAttr(key: string): void {\n    if (!this.element().hasAttribute(key)) {\n      return;\n    }\n\n    this.element().removeAttribute(key);\n  }\n}\n\nexport default Element;\n", "import Colour, { colourToClassName } from '../lib/Colour';\nimport Element, { s } from './Element';\n\nexport type Connection = 't' | 'r' | 'b' | 'l';\n\nexport class Cell extends Element {\n  #colour: Colour = Colour.NONE;\n  #connections: Connection[] = [];\n  #index: number;\n\n  constructor(index: number) {\n    super(s('<div class=\"cell\"></div>'));\n\n    this.#index = index;\n  }\n\n  colour(): Colour {\n    return this.#colour;\n  }\n\n  index(): number {\n    return this.#index;\n  }\n\n  setColour(colour: Colour): void {\n    if (this.#colour) {\n      this.removeClass(...colourToClassName(this.#colour));\n    }\n\n    this.#colour = colour;\n\n    if (!colour) {\n      return;\n    }\n\n    this.addClass(...colourToClassName(colour));\n  }\n\n  addConnection(connection: Connection): void {\n    if (this.#connections.includes(connection)) {\n      return;\n    }\n\n    this.#connections.push(connection);\n\n    this.attr('data-connections', this.#connections.join(' '));\n  }\n\n  dropConnection(connection: Connection): void {\n    const connectionIndex = this.#connections.indexOf(connection);\n\n    if (connectionIndex === -1) {\n      return;\n    }\n\n    this.#connections.splice(connectionIndex, 1);\n\n    if (this.#connections.length === 0) {\n      this.removeAttr('data-connections');\n\n      return;\n    }\n\n    this.attr('data-connections', this.#connections.join(' '));\n  }\n\n  setFinal(final: boolean) {\n    if (final) {\n      this.attr('data-final');\n\n      return;\n    }\n\n    this.removeAttr('data-final');\n  }\n}\n\nexport default Cell;\n", "import Cell from './Cell';\nimport Colour from '../lib/Colour';\n\nexport class Point extends Cell {\n  constructor(index: number, colour: Colour) {\n    super(index);\n\n    super.setColour(colour);\n\n    this.addClass('point');\n  }\n\n  setColour(colour: Colour): never {\n    throw new TypeError('Cannot change the colour of a Point');\n  }\n}\n\nexport default Point;\n", "import Cell, { Connection } from '../components/Cell';\nimport Colour from './Colour';\nimport Grid from '../components/Grid';\nimport Point from '../components/Point';\n\nexport type NeighbourDirections = 't' | 'r' | 'b' | 'l';\n\nexport const isNeighbour = (\n  cell: Cell,\n  otherCell: Cell,\n  height: number,\n  width: number\n): NeighbourDirections | false => {\n  const x = (cell.index() % width) - (otherCell.index() % width),\n    y =\n      Math.floor(cell.index() / width) - Math.floor(otherCell.index() / width);\n\n  if (x === -1 && y === 0) {\n    return 'l';\n  }\n\n  if (x === 1 && y === 0) {\n    return 'r';\n  }\n\n  if (x === 0 && y === -1) {\n    return 't';\n  }\n\n  if (x === 0 && y === 1) {\n    return 'b';\n  }\n\n  return false;\n};\n\nexport enum Status {\n  DRAFT,\n  FINAL,\n  COMPLETE,\n}\n\nexport class Path {\n  #cells: Cell[] = [];\n  #colour: Colour;\n  #grid: Grid;\n  #status: Status = Status.DRAFT;\n\n  constructor(colour: Colour, grid: Grid) {\n    this.#colour = colour;\n    this.#grid = grid;\n  }\n\n  breakAt(cell: Cell): void {\n    if (!this.includes(cell)) {\n      return;\n    }\n\n    const breakIndex = this.#cells.indexOf(cell),\n      startChain = this.#cells.slice(0, breakIndex),\n      endChain = this.#cells.slice(breakIndex);\n\n    if (\n      endChain.length > startChain.length &&\n      this.first() instanceof Point &&\n      this.last() instanceof Point\n    ) {\n      this.#cells.reverse();\n    }\n\n    while (this.last() !== cell) {\n      this.pop();\n    }\n  }\n\n  canAdd(cell: Cell): boolean {\n    const last = this.last();\n\n    if (last === null) {\n      return cell instanceof Point;\n    }\n\n    if (this.complete()) {\n      return false;\n    }\n\n    return (\n      this.isNeighbour(last, cell) &&\n      (!(cell instanceof Point) || cell.colour() === this.colour())\n    );\n  }\n\n  clear(): void {\n    while (this.last()) {\n      this.pop();\n    }\n  }\n\n  colour(): Colour {\n    return this.#colour;\n  }\n\n  complete(): boolean {\n    const first = this.first(),\n      last = this.last();\n\n    return (\n      this.length() > 1 &&\n      first &&\n      last &&\n      first !== last &&\n      first instanceof Point &&\n      last instanceof Point\n    );\n  }\n\n  first(): Cell | null {\n    if (this.length() === 0) {\n      return null;\n    }\n\n    return this.#cells[0];\n  }\n\n  includes(cell: Cell): boolean {\n    return this.#cells.includes(cell);\n  }\n\n  private isNeighbour(\n    cell: Cell,\n    otherCell: Cell\n  ): NeighbourDirections | false {\n    return isNeighbour(\n      cell,\n      otherCell,\n      this.#grid.height(),\n      this.#grid.width()\n    );\n  }\n\n  last(): Cell | null {\n    if (this.length() === 0) {\n      return null;\n    }\n\n    return this.#cells[this.length() - 1];\n  }\n\n  length(): number {\n    return this.#cells.length;\n  }\n\n  pop(): void {\n    if (this.length() === 0) {\n      return;\n    }\n\n    const wasComplete = this.complete(),\n      cell = this.#cells.pop(),\n      last = this.last();\n\n    if (!(cell instanceof Point)) {\n      cell.setColour(Colour.NONE);\n    }\n\n    cell.setFinal(false);\n\n    if (last) {\n      last.dropConnection(this.isNeighbour(cell, last) as Connection);\n      cell.dropConnection(this.isNeighbour(last, cell) as Connection);\n    }\n\n    if (wasComplete) {\n      cell.setFinal(false);\n      this.#cells.forEach((cell) => cell.setFinal(false));\n      this.setStatus(Status.DRAFT);\n    }\n  }\n\n  push(cell: Cell): void {\n    const last = this.last();\n\n    if (last && !this.canAdd(cell)) {\n      return;\n    }\n\n    this.#cells.push(cell);\n\n    if (!(cell instanceof Point)) {\n      cell.setColour(this.#colour);\n    }\n\n    if (last) {\n      last.addConnection(this.isNeighbour(cell, last) as Connection);\n      cell.addConnection(this.isNeighbour(last, cell) as Connection);\n    }\n  }\n\n  setStatus(status: Status): void {\n    if (this.#status === Status.COMPLETE && status === Status.FINAL) {\n      return;\n    }\n\n    this.#status = status;\n\n    if (status === Status.DRAFT) {\n      this.#cells.forEach((cell) => cell.setFinal(false));\n\n      return;\n    }\n\n    this.#cells.forEach((cell) => cell.setFinal(true));\n  }\n\n  status(): Status {\n    return this.#status;\n  }\n}\n\nexport default Path;\n", "import { NeighbourDirections, isNeighbour } from './Path';\nimport Cell from '../components/Cell';\nimport Grid from '../components/Grid';\nimport Point from '../components/Point';\n\ntype Node = {\n  cell: Cell;\n  stack: Cell[];\n};\n\nconst createNode = (cell: Cell, stack: Cell[] = []): Node => ({\n  cell,\n  stack,\n});\n\nexport class PathFinder {\n  #candidates: Cell[][] = [];\n  #cells: Cell[];\n  #from: Cell;\n  #grid: Grid;\n  #neighbourCache: Map<Cell, Cell[]> = new Map();\n  #seen: Cell[] = [];\n  #stack: Node[] = [];\n  #to: Cell;\n\n  constructor(grid: Grid, from: Cell, to: Cell) {\n    this.#from = from;\n    this.#grid = grid;\n    this.#to = to;\n\n    this.#cells = grid.cells();\n    this.#stack.push(createNode(from));\n  }\n\n  private generate(): void {\n    while (this.#stack.length) {\n      const currentNode = this.#stack.shift(),\n        { cell } = currentNode;\n\n      if (this.#seen.includes(cell)) {\n        continue;\n      }\n\n      this.neighboursOf(cell).forEach((neighbourCell) => {\n        if (\n          neighbourCell instanceof Point &&\n          this.#from.colour() !== neighbourCell.colour()\n        ) {\n          return;\n        }\n\n        if (currentNode.stack.includes(neighbourCell)) {\n          return;\n        }\n\n        const node = createNode(neighbourCell, [...currentNode.stack, cell]);\n\n        if (neighbourCell === this.#to) {\n          // Ensure the final `Cell` is included in the stack.\n          this.#candidates.push(node.stack.concat([neighbourCell]));\n\n          return;\n        }\n\n        this.#stack.push(node);\n      });\n\n      this.#seen.push(cell);\n    }\n  }\n\n  private isNeighbour(\n    cell: Cell,\n    otherCell: Cell\n  ): NeighbourDirections | false {\n    return isNeighbour(\n      cell,\n      otherCell,\n      this.#grid.height(),\n      this.#grid.width()\n    );\n  }\n\n  isPathAvailable(): boolean {\n    if (this.#candidates.length === 0) {\n      this.generate();\n    }\n\n    return this.#candidates.length > 0;\n  }\n\n  private neighboursOf(cell: Cell): Cell[] {\n    if (!this.#neighbourCache.has(cell)) {\n      this.#neighbourCache.set(\n        cell,\n        this.#cells.filter(\n          (otherCell) => this.isNeighbour(cell, otherCell) !== false\n        )\n      );\n    }\n\n    return this.#neighbourCache.get(cell);\n  }\n\n  /**\n   * Returns the shortest path from the source to the target.\n   */\n  shortestPath(): Cell[] {\n    if (this.#candidates.length === 0) {\n      this.generate();\n    }\n\n    const [shortest] = this.#candidates.sort(\n      (a: Cell[], b: Cell[]) => a.length - b.length\n    );\n\n    return shortest;\n  }\n}\n\nexport default PathFinder;\n", "import Colour, { colourToClassName } from '../lib/Colour';\nimport Element, { s } from './Element';\n\nexport enum Status {\n  DEFAULT,\n  GOOD,\n  INVALID,\n}\n\nconst statusLookup = {\n  [Status.DEFAULT]: 'default',\n  [Status.GOOD]: 'good',\n  [Status.INVALID]: 'invalid',\n};\n\nconst statusToClassName = (status: Status): string => statusLookup[status];\n\nexport class TouchHighlight extends Element {\n  #colour: Colour = Colour.NONE;\n  #status: Status = Status.DEFAULT;\n\n  constructor(height: number, width: number) {\n    super(s('<div class=\"touch-highlight\"></div>'));\n\n    this.element().style.setProperty('--height', height.toString());\n    this.element().style.setProperty('--width', width.toString());\n  }\n\n  private getTopLeftFromEvent(\n    event: TouchEvent | MouseEvent | PointerEvent\n  ): [number, number] {\n    if (event instanceof TouchEvent) {\n      return [\n        event.touches[0].pageX -\n          Math.sqrt(\n            event.touches[0].radiusX ** 2 + event.touches[0].radiusY ** 2\n          ),\n        event.touches[0].pageY -\n          Math.sqrt(\n            event.touches[0].radiusX ** 2 + event.touches[0].radiusY ** 2\n          ),\n      ];\n    }\n\n    return [event.pageX, event.pageY];\n  }\n\n  move(event: TouchEvent | MouseEvent): void {\n    const [left, top] = this.getTopLeftFromEvent(event);\n\n    this.element().style.left = left + 'px';\n    this.element().style.top = top + 'px';\n  }\n\n  setColour(colour: Colour): void {\n    if (this.#colour !== Colour.NONE) {\n      this.removeClass(...colourToClassName(this.#colour));\n    }\n\n    this.#colour = colour;\n\n    if (colour === Colour.NONE) {\n      return;\n    }\n\n    this.addClass(...colourToClassName(colour));\n  }\n\n  setStatus(status: Status): void {\n    this.removeClass(statusToClassName(this.#status));\n\n    this.#status = status;\n\n    this.addClass(statusToClassName(status));\n  }\n}\n\nexport default TouchHighlight;\n", "import Element, { s } from './Element';\nimport Path, { Status } from '../lib/Path';\nimport Cell from './Cell';\nimport Colour from '../lib/Colour';\nimport PathFinder from '../lib/PathFinder';\nimport Point from './Point';\nimport TouchHighlight, { Status as HighlightStatus } from './TouchHighlight';\n\nexport class Grid extends Element {\n  #cellMap: Map<HTMLElement, Cell> = new Map();\n  #currentPath: Path | null = null;\n  #paths: Map<number, Path> = new Map();\n  #height: number;\n  #touchHighlight: TouchHighlight;\n  #width: number;\n\n  constructor(\n    height: number,\n    width: number,\n    cells: Cell[],\n    touchHighlight: TouchHighlight\n  ) {\n    super(s('<div class=\"grid\"></div>'));\n\n    this.setSize(height, width);\n\n    cells.forEach((cell) => {\n      this.#cellMap.set(cell.element(), cell);\n\n      this.append(cell);\n    });\n\n    this.#touchHighlight = touchHighlight;\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.on('pointerdown', (event) => {\n      if (!event.isPrimary) {\n        return;\n      }\n\n      event.preventDefault();\n\n      const cell = this.cellFromEvent(event);\n\n      if (cell === null) {\n        return;\n      }\n\n      const existingPath = this.pathFromCell(cell);\n\n      if (\n        existingPath &&\n        existingPath.complete() &&\n        existingPath.last() === cell\n      ) {\n        this.#currentPath = existingPath;\n\n        existingPath.setStatus(Status.DRAFT);\n\n        existingPath.clear();\n\n        existingPath.push(cell);\n\n        this.#touchHighlight.setColour(existingPath.colour());\n\n        return;\n      }\n\n      if (existingPath && existingPath.last() !== cell) {\n        this.#currentPath = existingPath;\n\n        existingPath.setStatus(Status.DRAFT);\n\n        existingPath.breakAt(cell);\n\n        this.#touchHighlight.setColour(existingPath.colour());\n\n        return;\n      }\n\n      if (existingPath && existingPath.last() === cell) {\n        this.#currentPath = existingPath;\n\n        existingPath.setStatus(Status.DRAFT);\n\n        this.#touchHighlight.setColour(existingPath.colour());\n\n        return;\n      }\n\n      if (!(cell instanceof Point)) {\n        return;\n      }\n\n      const path = new Path(cell.colour(), this);\n\n      this.#currentPath = path;\n\n      this.#touchHighlight.setColour(path.colour());\n\n      path.push(cell);\n      this.#paths.set(path.colour(), path);\n    });\n\n    this.on('pointermove', (event) =>\n      this.handleHighlight(event, this.cellFromEvent(event))\n    );\n\n    this.on('touchmove', (event) => {\n      event.preventDefault();\n\n      const cell = this.cellFromEvent(event),\n        currentPath = this.#currentPath;\n\n      this.handleHighlight(event, cell);\n\n      if (\n        cell === null ||\n        currentPath === null ||\n        (currentPath &&\n          currentPath.status() === Status.COMPLETE &&\n          !currentPath.includes(cell)) ||\n        currentPath.last() === cell\n      ) {\n        return;\n      }\n\n      this.handleAddCellToCurrentPath(cell);\n    });\n\n    this.on(\n      'pointerenter',\n      (event) => {\n        if (!event.isPrimary) {\n          return;\n        }\n\n        event.preventDefault();\n\n        const cell = this.cellFromEvent(event),\n          currentPath = this.#currentPath;\n\n        if (\n          cell === null ||\n          currentPath === null ||\n          (currentPath &&\n            currentPath.status() === Status.COMPLETE &&\n            !currentPath.includes(cell)) ||\n          currentPath.last() === cell\n        ) {\n          return;\n        }\n\n        this.handleAddCellToCurrentPath(cell);\n      },\n      {\n        capture: true,\n      }\n    );\n\n    this.on('pointerup', (event) => {\n      if (this.#currentPath === null) {\n        return;\n      }\n\n      event.preventDefault();\n\n      // TODO: break crossed paths\n      this.#currentPath.setStatus(Status.FINAL);\n\n      if (this.#currentPath.length() < 2) {\n        this.#currentPath.clear();\n\n        this.#paths.delete(this.#currentPath.colour());\n      }\n\n      this.#currentPath = null;\n\n      this.#touchHighlight.setColour(Colour.NONE);\n    });\n  }\n\n  cells(): Cell[] {\n    return Array.from(this.#cellMap.values());\n  }\n\n  private cellFromEvent(event: PointerEvent | TouchEvent): Cell | null {\n    return (\n      this.#cellMap.get(\n        document.elementFromPoint(\n          event instanceof TouchEvent ? event.touches[0].pageX : event.pageX,\n          event instanceof TouchEvent ? event.touches[0].pageY : event.pageY\n        ) as HTMLElement\n      ) ?? null\n    );\n  }\n\n  private handleAddCellToCurrentPath(cell: Cell): void {\n    const otherPath = this.pathFromCell(cell, this.#currentPath),\n      currentPath = this.#currentPath;\n\n    if (otherPath && otherPath !== currentPath && !(cell instanceof Point)) {\n      otherPath.breakAt(cell);\n      otherPath.pop();\n    }\n\n    if (currentPath.includes(cell) && currentPath.last() !== cell) {\n      currentPath.breakAt(cell);\n    }\n\n    if (currentPath.canAdd(cell)) {\n      currentPath.push(cell);\n\n      return;\n    }\n\n    const last = currentPath.last();\n\n    // TODO: instead of doing this check, this should never happen...\n    if (!last) {\n      return;\n    }\n\n    const pathFinder = new PathFinder(this, last, cell);\n\n    if (pathFinder.isPathAvailable()) {\n      pathFinder\n        .shortestPath()\n        .forEach((cell) => this.handleAddCellToCurrentPath(cell));\n    }\n  }\n\n  private handleHighlight(\n    event: TouchEvent | PointerEvent | MouseEvent,\n    cell: Cell\n  ): void {\n    this.#touchHighlight.move(event);\n\n    if (\n      cell instanceof Point &&\n      this.#currentPath?.length() > 1 &&\n      this.#currentPath?.first() !== cell\n    ) {\n      this.#touchHighlight.setStatus(HighlightStatus.GOOD);\n    }\n\n    if (\n      cell instanceof Point &&\n      cell.colour() !== this.#currentPath?.colour()\n    ) {\n      this.#touchHighlight.setStatus(HighlightStatus.INVALID);\n    }\n\n    if (!(cell instanceof Point)) {\n      this.#touchHighlight.setStatus(HighlightStatus.DEFAULT);\n    }\n  }\n\n  height(): number {\n    return this.#height;\n  }\n\n  private pathFromCell(\n    cell: Cell,\n    currentPath: Path | null = null\n  ): Path | null {\n    let path = null;\n\n    this.#paths.forEach((existingPath) => {\n      if (path) {\n        return;\n      }\n\n      if (existingPath.includes(cell)) {\n        path = existingPath;\n      }\n    });\n\n    if (\n      path === null &&\n      cell instanceof Point &&\n      this.#paths.has(cell.colour())\n    ) {\n      path = this.#paths.get(cell.colour());\n\n      if (path !== currentPath && !path.canAdd(cell)) {\n        path.clear();\n      }\n    }\n\n    return path;\n  }\n\n  private setSize(height: number, width: number): void {\n    this.#height = height;\n    this.#width = width;\n\n    this.element().style.setProperty('--height', height.toString());\n    this.element().style.setProperty('--width', width.toString());\n  }\n\n  width(): number {\n    return this.#width;\n  }\n}\n\nexport default Grid;\n", "import Colour, { assertIsColour } from './Colour';\n\nconst levels: [number, number, string][] = [\n  [3, 3, 'a1abc2bc'],\n  [8, 8, '2b7gfe5d10d1f3b1g2e1c2ca1h3a5h'],\n  [15, 15, '4o1i9l6a11eb5g5e20j2g26n9f1f9l7h1o7n10j7c6pd3mc4h5p6im3kad23b2k]'],\n  [6, 5, '1d2a4b2b1c2c10da'],\n];\n\ntype LevelData = [number, number, Colour[]];\n\nenum Difficulty {\n  SIMPLE,\n  EASY,\n  NORMAL,\n  HARD,\n  X_HARD,\n}\n\nconst loadFromString = (\n  height: number,\n  width: number,\n  gridDefinition: string\n): LevelData => {\n  const matches = gridDefinition.match(/\\d+|[a-z]/gi);\n\n  if (matches === null) {\n    throw new TypeError('Invalid level definition');\n  }\n\n  const cells = matches.flatMap((value: string): Colour | Colour[] => {\n    if (/^\\d+$/.test(value)) {\n      return new Array(parseInt(value, 10)).fill(Colour.NONE);\n    }\n\n    if (/^[a-z]$/i.test(value)) {\n      return assertIsColour(value);\n    }\n\n    throw new TypeError(`Unknown level data '${value}'.`);\n  });\n\n  const area = height * width;\n\n  if (cells.length < area) {\n    cells.push(...new Array(area - cells.length).fill(Colour.NONE));\n  }\n\n  return [height, width, cells];\n};\n\nexport class LevelProvider {\n  #location: Location;\n\n  constructor(location: Location) {\n    this.#location = location;\n  }\n\n  generate(\n    height: number = -1,\n    width: number = -1,\n    difficulty: Difficulty = Difficulty.NORMAL\n  ): LevelData {\n    return loadFromString(...levels[Math.floor(Math.random() * levels.length)]);\n  }\n\n  fromURL(): LevelData | null {\n    const hashData = decodeURIComponent(this.#location.hash.slice(1));\n\n    if (hashData.length < 2) {\n      return null;\n    }\n\n    let jsonData: string;\n\n    try {\n      jsonData = atob(hashData);\n    } catch (e) {\n      if (!(e instanceof DOMException)) {\n        throw e;\n      }\n\n      jsonData = hashData;\n    }\n\n    if (!jsonData) {\n      return null;\n    }\n\n    let rawHashData: [number, number, string];\n\n    try {\n      rawHashData = JSON.parse(jsonData.replace(/'/g, '\"'));\n    } catch (e) {\n      if (!(e instanceof SyntaxError)) {\n        throw e;\n      }\n\n      console.warn('Invalid JSON data provided: ' + jsonData);\n      return null;\n    }\n\n    if (\n      !(rawHashData instanceof Array) ||\n      rawHashData.length !== 3 ||\n      typeof rawHashData[0] !== 'number' ||\n      typeof rawHashData[1] !== 'number' ||\n      typeof rawHashData[2] !== 'string'\n    ) {\n      return null;\n    }\n\n    const [height, width, levelString] = rawHashData;\n\n    return loadFromString(height, width, levelString);\n  }\n}\n\nexport default LevelProvider;\n", "import './app.scss';\nimport Cell from './components/Cell';\nimport Colour from './lib/Colour';\nimport Grid from './components/Grid';\nimport LevelProvider from './lib/LevelProvider';\nimport Point from './components/Point';\nimport TouchHighlight from './components/TouchHighlight';\n\nconst levelProvider = new LevelProvider(location),\n  hashLevelData = levelProvider.fromURL(),\n  [height, width, levelData] = hashLevelData ?? levelProvider.generate();\n\nconst touchHighlight = new TouchHighlight(height, width),\n  grid = new Grid(\n    height,\n    width,\n    levelData.map((pointColour, index) =>\n      pointColour === Colour.NONE\n        ? new Cell(index)\n        : new Point(index, pointColour)\n    ),\n    touchHighlight\n  ),\n  appContainer = document.getElementById('app');\n\nappContainer.append(grid.element(), touchHighlight.element());\n"],
  "mappings": "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",
  "names": ["require_Element", "__commonJSMin", "exports", "e", "t", "s", "r", "Colour", "colourToClassNameLookup", "assertIsColour", "colour", "colourToClassName", "colours", "Colour_default", "import_element", "Element", "BaseElement", "key", "value", "Element_default", "_colour", "_connections", "_index", "Cell", "Element_default", "index", "__privateAdd", "Colour_default", "__privateSet", "__privateGet", "colour", "colourToClassName", "connection", "connectionIndex", "final", "Cell_default", "Point", "Cell_default", "index", "colour", "Point_default", "isNeighbour", "cell", "otherCell", "height", "width", "x", "y", "_cells", "_colour", "_grid", "_status", "Path", "colour", "grid", "__privateAdd", "__privateSet", "cell", "breakIndex", "__privateGet", "startChain", "Point_default", "last", "first", "otherCell", "isNeighbour", "wasComplete", "Colour_default", "status", "Path_default", "createNode", "cell", "stack", "_candidates", "_cells", "_from", "_grid", "_neighbourCache", "_seen", "_stack", "_to", "PathFinder", "grid", "from", "to", "__privateAdd", "__privateSet", "__privateGet", "currentNode", "neighbourCell", "Point_default", "node", "otherCell", "isNeighbour", "shortest", "a", "b", "PathFinder_default", "statusLookup", "statusToClassName", "status", "_colour", "_status", "TouchHighlight", "Element_default", "height", "width", "__privateAdd", "Colour_default", "event", "__pow", "left", "top", "colour", "__privateGet", "colourToClassName", "__privateSet", "TouchHighlight_default", "_cellMap", "_currentPath", "_paths", "_height", "_touchHighlight", "_width", "Grid", "Element_default", "height", "width", "cells", "touchHighlight", "__privateAdd", "cell", "__privateGet", "__privateSet", "event", "existingPath", "Point_default", "path", "Path_default", "currentPath", "Colour_default", "_a", "otherPath", "last", "pathFinder", "PathFinder_default", "_b", "_c", "Grid_default", "levels", "loadFromString", "height", "width", "gridDefinition", "matches", "cells", "value", "Colour_default", "assertIsColour", "area", "_location", "LevelProvider", "location", "__privateAdd", "__privateSet", "difficulty", "levels", "hashData", "__privateGet", "jsonData", "e", "rawHashData", "levelString", "LevelProvider_default", "levelProvider", "LevelProvider_default", "hashLevelData", "height", "width", "levelData", "touchHighlight", "TouchHighlight_default", "grid", "Grid_default", "pointColour", "index", "Colour_default", "Cell_default", "Point_default", "appContainer"]
}
